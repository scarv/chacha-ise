
%\documentclass[preprint]{iacrtrans}
\documentclass[sigconf]{acmart}

\usepackage{paper}


\begin{document}

% =============================================================================

\title{A lightweight ISE for ChaCha20 on 64-bit RISC-V}
%\keywords{}
\ifbool{anonymous}{%
\author{}
%\institute{}
}{%
\ifbool{ACMsubmission}{%
\author{Ben Marshall}
\affiliation{%
  \institution{Department of Computer Science, University of Bristol.}
  \country{}}%
\email{ben.marshall@bristol.ac.uk}
\author{Daniel Page}
\affiliation{%
  \institution{Department of Computer Science, University of Bristol.}
  \country{}}%
\email{daniel.page@bristol.ac.uk}
\author{Thinh Pham}
\affiliation{%
  \institution{Department of Computer Science, University of Bristol.}
\country{}}%
\email{th.pham@bristol.ac.uk}
}{%
\author{%
  Ben Marshall \and Dan Page \and Thinh Pham }%
\institute{%
  Department of Computer Science, University of Bristol.                  \\
  \email{{ben.marshall,daniel.page,th.pham}@bristol.ac.uk}}%
}%
}%

\ifbool{ACMsubmission}{%
}{%
\maketitle
}%

\begin{abstract}
The ChaCha20 is a high-throughput stream cipher designed with the aim of ensuring high-security margins while achieving high performance on software platforms. RISC-V, an emerging, free, and open Instruction Set Architecture (ISA) is being developed with many instruction set extensions (ISE). ISEs are a native concept in RISC-V to support a relatively small RISC-V ISA to suit different use-cases including cryptographic acceleration via either standard or custom ISEs. This paper proposes a lightweight Instruction Set Extension (ISE) to support the ChaCha20 on 64-bit RISC-V architectures targeting embedded, IoT class devices. The proposed ISE is designed to accelerate the computation of ChaCha20's block function and align with the  RISC-V design principles. We show that our proposed ISEs help to improve the efficiency of ChaCha block function significantly. 
The ISE-assisted implementation of ChaCha encryption speeds up at least $5.4\times$ and $3.4\times$ compared to the OpenSSL baseline and ISA-base optimised implementation, respectively. 
For encrypting short messages, the ISE-assisted implementation gains a comparative performance compared to the implementations using very high area overhead vector extensions.
\end{abstract}

\ifbool{ACMsubmission}{%
\maketitle
}%

% =============================================================================

%\tableofcontents

\section{Introduction}
\label{sec:intro}
\input{tex/intro.tex}
% =============================================================================

\section{ChaCha20 stream cipher}
\label{sec:bg}
\input{tex/background.tex}
% =============================================================================

\section{Proposed ISEs for Chacha20}
\label{sec:ise}
\input{tex/ise.tex}
% =============================================================================

\section{Evaluation}
\label{sec:res}
\input{tex/evaluation.tex}
% =============================================================================

\section{Conclusion}
\label{sec:outro}
\input{tex/outro.tex}

% =============================================================================


\ifbool{ACMsubmission}{%
\bibliographystyle{ACM-Reference-Format}
}{%
\bibliographystyle{alpha}
}%
\bibliography{paper}

% =============================================================================

\appendix

\newpage
%\onecolumn
\section{The ISE-assisted Implementation of the block function}
\label{appx:ISE-assisted Implementation}
\lstset{style=mystyle}
\lstinputlisting[language=C]{./tex/blockfunction.c}
%\import{./tex/}{ise-algorithm-conv.tex}

\end{document}


